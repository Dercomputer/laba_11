<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–¶–≤–µ—Ç–Ω–æ–π –ß–∞—Ç –Ω–∞ FastAPI</title>
    <link rel="stylesheet" href="/static/index.css">
</head>
<body>
    <div class="main-content-wrapper">
        <header>
            <h1>üìù–§–æ—Ä—É–º</h1>
            <p>–¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: <span id="current-user" class="user-status">Guest</span></p>
        </header>

        <div class="container">
            <div class="form-section auth-section">
                <h2>üîë –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</h2>
                <form id="auth-form">
                    <label for="username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</label>
                    <input type="text" id="username" name="username" required>

                    <label for="password">–ü–∞—Ä–æ–ª—å:</label>
                    <input type="password" id="password" name="password" required>

                    <div class="button-group">
                        <button type="button" onclick="handleRegister()" class="btn register-btn">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                        <button type="button" onclick="handleLogin()" class="btn login-btn">–í–æ–π—Ç–∏</button>
                    </div>
                </form>
                <div id="auth-message" class="message error"></div>
            </div>

            <div class="form-section send-section">
                <h2>‚úâÔ∏è –û—Ç–ø—Ä–∞–≤–∏—Ç—å –°–æ–æ–±—â–µ–Ω–∏–µ</h2>
                <form id="send-form">
                    <label for="message-text">–°–æ–æ–±—â–µ–Ω–∏–µ:</label>
                    <textarea id="message-text" name="message-text" rows="3" required></textarea>

                    <button type="button" onclick="handleSend()" class="btn send-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                </form>
                <div id="send-message" class="message error"></div>
            </div>
        </div>

        <div class="container">
            <div class="form-section change-section">
                <h2>üîí –ò–∑–º–µ–Ω–∏—Ç—å –ü–∞—Ä–æ–ª—å</h2>
                <form id="change-password-form">
                    <label for="change-old-password">–°—Ç–∞—Ä—ã–π –ü–∞—Ä–æ–ª—å:</label>
                    <input type="password" id="change-old-password" required>

                    <label for="change-new-password">–ù–æ–≤—ã–π –ü–∞—Ä–æ–ª—å:</label>
                    <input type="password" id="change-new-password" required>

                    <button type="button" onclick="handleChangePassword()" class="btn change-btn">–ò–∑–º–µ–Ω–∏—Ç—å</button>
                </form>
                <div id="change-message" class="message error"></div>
            </div>

            <div class="form-section delete-section">
                <h2>üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –°–æ–æ–±—â–µ–Ω–∏–µ</h2>
                <form id="delete-form">
                    <label for="target-message">–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è:</label>
                    <textarea id="target-message" rows="2" required></textarea>
                    <p class="small-note">*–î–ª—è —É–¥–∞–ª–µ–Ω–∏—è —á—É–∂–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω—É–∂–Ω–æ –≤–æ–π—Ç–∏ –ø–æ–¥ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å—å—é **admin**.</p>
                    <button type="button" onclick="handleDelete()" class="btn delete-btn">–£–¥–∞–ª–∏—Ç—å</button>
                </form>
                <div id="delete-message" class="message error"></div>
            </div>
        </div>

        <hr class="colorful-hr">

        <div class="message-display-section">
            <h2>üìú –°–æ–æ–±—â–µ–Ω–∏—è</h2>
            <button onclick="showMessages()" class="btn refresh-btn">–û–±–Ω–æ–≤–∏—Ç—å –°–æ–æ–±—â–µ–Ω–∏—è</button>
            <div id="messages-container">
                <p>–°–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω—ã –∑–¥–µ—Å—å –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è "–û–±–Ω–æ–≤–∏—Ç—å –°–æ–æ–±—â–µ–Ω–∏—è".</p>
            </div>
        </div>
    </div>

    <script src="/static/index.js"></script>
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = showMessages;
    </script>
</body>
</html>